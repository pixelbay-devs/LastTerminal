[gd_scene load_steps=19 format=3 uid="uid://bjktcp4adusf7"]

[ext_resource type="Script" uid="uid://unk8i8pb8cmb" path="res://Scene/end_train_cutscene.gd" id="1_hcnre"]
[ext_resource type="Script" uid="uid://bi7vanqayvs5r" path="res://addons/post_processing/node/post_process.gd" id="1_jwpyk"]
[ext_resource type="Script" uid="uid://0t5vmwup00ad" path="res://addons/post_processing/resource/post_processing_configuration.gd" id="2_844f1"]
[ext_resource type="AudioStream" uid="uid://wgshvyytofpu" path="res://Music/EndP!.ogg" id="3_844f1"]
[ext_resource type="Texture2D" uid="uid://d13ofineehqqk" path="res://Asset/Cutscenes/trainInside1.png" id="4_q0ylx"]
[ext_resource type="Texture2D" uid="uid://dpm1mqqqkyaf1" path="res://Asset/Cutscenes/character last scene.png" id="5_qk63f"]
[ext_resource type="Texture2D" uid="uid://ddqawv1h1sb6a" path="res://Asset/Cutscenes/mori ghost last scene.png" id="6_vlbrs"]
[ext_resource type="Texture2D" uid="uid://1ulkeh0xgkca" path="res://Asset/Cutscenes/mooriEmptyeyes3.png" id="7_4n5sg"]
[ext_resource type="Texture2D" uid="uid://c8kagk6w86i5l" path="res://Asset/Cutscenes/mooriEmptyeyes4.png" id="8_hcnre"]
[ext_resource type="Texture2D" uid="uid://87dfh5q5ob6m" path="res://Asset/Cutscenes/mooriEmptyeyes5.png" id="9_4qiyw"]
[ext_resource type="Texture2D" uid="uid://bhyck3urkoniv" path="res://Asset/heartShard/red heart.png" id="10_ajb4b"]
[ext_resource type="FontFile" uid="uid://dp01bl3gvl0j6" path="res://Font/04B_30__.TTF" id="11_g3dmd"]

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_hcnre"]
particle_flag_disable_z = true
emission_shape = 3
emission_box_extents = Vector3(1, 232.395, 1)
gravity = Vector3(-200, 0, 0)
scale_max = 2.15

[sub_resource type="Animation" id="Animation_8u5p0"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("scene1:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("scene2:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("scene3:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("scene4:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("scene5:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("trans:color")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Label:text")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": ["YOu thought this train
was your SALVATION"]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("scene5/Sprite2D:modulate")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("scene5/Sprite2D:scale")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(8.192, 8.192)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Camera2D:zoom")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(4.455, 4.455)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Camera2D:position")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(701, 324)]
}

[sub_resource type="Animation" id="Animation_4xx4p"]
resource_name = "start"
length = 82.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("scene1:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 6.53968),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("scene2:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 6.53968, 13.5105, 13.5178, 19.0053, 33.9186, 36.4249, 38.164, 39.9907, 45.8727, 46.9249, 48.3059, 49.8842),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, true, false, true, false, true, false, true, false, true, false, true]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("scene3:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 13.5178, 19.0053, 45.8727, 46.9249),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, false, true, false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("scene4:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 33.9186, 36.4249, 38.164, 39.9907, 48.3059, 49.8842),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [false, true, false, true, false, true, false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("scene5:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 68.4072),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("trans:color")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 2.99583, 5.52402, 6.53968, 7.50419, 60.0189, 63.497),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 0), Color(0, 0, 0, 0), Color(0, 0, 0, 1), Color(0, 0, 0, 0), Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Label:text")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 6.53968, 9.81317, 13.5105, 17.0032, 23.0021, 27.0209, 29.5053, 31.2735, 33.9186, 36.4249, 38.164, 39.9907, 42.2631, 43.9364, 45.8727, 46.9249, 48.3059, 49.8842, 52.0032, 53.6181, 55.3498, 61, 63.497, 64.9949, 68.4145, 70.9793, 72.4845, 75.283, 77.5043),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": ["", "YOu thought this train
was your SALVATION", "YOu thought ORACLE was 
sending you home", "NO one ever told you
the TRUTH", "not really", "There is no LIGHT
at the end of the tunnel", "ORACLE. he didn't save you", "he's just sending you
to something ", "far worse than me", "I know what this place is", "i have LIVED it", "it doesn't BURN you", "it doesn't BREAK your bones", "it UNWRAPS you", "PIECE by PIECE", "THOUGHT", "MEMORY", "WILL", "your FORGET how to SCREAM", "your FORGET your own NAME", "and then", "you forget you were
ever someone", "I won't let that happen to you", "NO", "i have seen what waits 
past this ride", "And you don't
DESERVE it", "you may HATE me", "you may think 
this is VENGEANCE", "but this", "this is the only kindness
i still know how to give"]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("scene5/Sprite2D:modulate")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(68.4, 69.9855),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("scene5/Sprite2D:scale")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(68, 68.2, 68.3845, 68.5845, 68.7876, 68.9876, 69.2118, 69.4118, 69.5869, 69.7869, 69.9936, 70.1936, 70.3897, 70.5897, 70.8069, 71.0069, 71.2, 71.5333, 71.8, 72.1667, 72.6151, 72.9818, 73.4021, 73.7688, 74.402, 74.7686, 75.6, 76.1667, 76.9926, 77.5593, 78.5807, 79.1473, 80.0039, 80.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48), Vector2(8.192, 8.192), Vector2(7.48, 7.48)]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Camera2D:zoom")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0, 0.985038, 5.00048),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(4.455, 4.455), Vector2(4.455, 4.455), Vector2(1, 1)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Camera2D:position")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0, 0.985038, 5.00048),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(701, 324), Vector2(701, 324), Vector2(576, 324)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yoyf2"]
_data = {
&"RESET": SubResource("Animation_8u5p0"),
&"start": SubResource("Animation_4xx4p")
}

[sub_resource type="Resource" id="Resource_a7owo"]
script = ExtResource("2_844f1")
reload = false
ASCII = false
ASCIISize = Vector2(4, 9)
ChromaticAberration = false
StrenghtCA = 1.0
Blur = false
L_O_D = 1.0
FishEye = false
FishEyeAspect = 1.0
FishEyeDistortion = 1.0
FishEyeRadius = 1.0
FishEyeAlpha = 1.0
FishEyeCrop = 1.0
FishEyeCropColor = Color(0, 0, 0, 1)
Vignette = false
VignetteIntensity = 0.4
VignetteOpacity = 0.5
VignetteR_G_B = Color(0, 0, 0, 1)
Glitch = false
GlitchRange = 0.05
GlitchNoiseQuality = 250.0
GlitchIntenity = 0.0088
GlitchOffset = 0.03
GlitchColorOffset = 1.3
Outline = false
OutlineColor = Color(0, 0, 0, 1)
OutlineThreshold = 0.0
OutlineBlend = 0.01
Grain = false
GrainPower = 75
CircularWaves = false
CircularWavesAmplitude = 2.0
CircularWavesFrequency = 12.69
CircularWavesRippleRate = 9.2
SpeedLines = false
SpeedLinesColor = Color(1, 1, 1, 1)
SpeedLinesCount = 2
SpeedLineDensity = 0.072
SpeedLineSpeed = 20
particle_storm = false
particle_storm_color = Color(0.87, 0.78, 0.6, 1)
particle_storm_intensity = 0.5
particle_storm_chaos = 1.0
particle_storm_scale = 1.0
particle_storm_density = 1.0
particle_storm_wind_direction = Vector2(1, 0.2)
particle_storm_wind_speed = 1.0
directional_drift = false
directional_drift_color = Color(0.76, 0.69, 0.5, 0.3)
directional_drift_density = 0.3
directional_drift_speed = 1.0
directional_drift_scale = 30.0
directional_drift_direction = Vector2(1, 0.5)
directional_drift_layer_ratio = 1.2
ColorCorrection = false
ColorCorrectionTint = Color(0, 0, 0, 1)
ColorCorrectionBrightness = 0.0
ColorCorrectionSaturation = 0.0
Palette = false
Pixelate = false
PixelatePixelSize = 8
CRT = false
overlay = false
scanlines_opacity = 0.4
scanlines_width = 0.25
grille_opacity = 0.3
pixelate = true
roll_speed = 8.0
roll_size = 15.0
roll_variation = 1.8
distort_intensity = 0.05
noise_opacity = 0.4
noise_speed = 5.0
static_noise_intensity = 0.06
aberration = 0.03
brightness = 1.4
discolor = true
warp_amount = 1.0
clip_warp = false
vignette_intensity = 0.4
vignette_opacity = 0.5
AnalogMonitor = false
AnalogMonitorResolution = Vector2(256, 256)
ScreenShake = true
ScreenShakePower = 0.1
metadata/_custom_type_script = "uid://0t5vmwup00ad"

[sub_resource type="LabelSettings" id="LabelSettings_03d6x"]
font = ExtResource("11_g3dmd")
font_size = 30

[node name="EndTrainCutScne" type="Node2D"]
script = ExtResource("1_hcnre")

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -9.0
offset_top = -82.0
offset_right = 1340.0
offset_bottom = 725.0
color = Color(0, 0, 0, 1)

[node name="GPUParticles2D" type="GPUParticles2D" parent="."]
position = Vector2(1168, 280)
amount = 318
lifetime = 3.0
process_material = SubResource("ParticleProcessMaterial_hcnre")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_yoyf2")
}
autoplay = "start"

[node name="PostProcess" type="CanvasLayer" parent="."]
script = ExtResource("1_jwpyk")
configuration = SubResource("Resource_a7owo")
metadata/_custom_type_script = "uid://bi7vanqayvs5r"

[node name="trans" type="ColorRect" parent="."]
z_index = 410
offset_right = 1154.0
offset_bottom = 647.0
color = Color(0, 0, 0, 1)

[node name="eplilogue" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("3_844f1")
volume_db = 21.315
autoplay = true

[node name="scene1" type="Node2D" parent="."]
visible = false

[node name="TrainInside1" type="Sprite2D" parent="scene1"]
position = Vector2(576, 324)
texture = ExtResource("4_q0ylx")

[node name="CharacterLastScene" type="Sprite2D" parent="scene1"]
position = Vector2(689, 422)
scale = Vector2(7.14973, 7.14973)
texture = ExtResource("5_qk63f")

[node name="MoriGhostLastScene" type="Sprite2D" parent="scene1"]
position = Vector2(460, 440)
scale = Vector2(6.44909, 6.44909)
texture = ExtResource("6_vlbrs")

[node name="scene2" type="Node2D" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="scene2"]
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0, 0, 1)

[node name="Sprite2D" type="Sprite2D" parent="scene2"]
position = Vector2(578, 325)
texture = ExtResource("7_4n5sg")

[node name="scene3" type="Node2D" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="scene3"]
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0, 0, 1)

[node name="Sprite2D" type="Sprite2D" parent="scene3"]
position = Vector2(576, 324)
texture = ExtResource("8_hcnre")

[node name="scene4" type="Node2D" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="scene4"]
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0, 0, 1)

[node name="Sprite2D" type="Sprite2D" parent="scene4"]
position = Vector2(576, 324)
texture = ExtResource("9_4qiyw")

[node name="scene5" type="Node2D" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="scene5"]
visible = false
offset_right = 1152.0
offset_bottom = 648.0
color = Color(0, 0, 0, 1)

[node name="Sprite2D" type="Sprite2D" parent="scene5"]
modulate = Color(1, 1, 1, 0)
z_index = 800
position = Vector2(571, 302)
scale = Vector2(8.192, 8.192)
texture = ExtResource("10_ajb4b")

[node name="Label" type="Label" parent="."]
z_index = 2410
offset_left = 321.0
offset_top = 523.0
offset_right = 851.0
offset_bottom = 554.0
text = "YOu thought this train
was your SALVATION"
label_settings = SubResource("LabelSettings_03d6x")
horizontal_alignment = 1

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(701, 324)
zoom = Vector2(4.455, 4.455)

[node name="Timer" type="Timer" parent="."]
wait_time = 83.0
one_shot = true
autostart = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
